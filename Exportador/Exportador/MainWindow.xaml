<Window x:Class="Exportador.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Exportador.UI"
        xmlns:viewmodels="clr-namespace:Exportador.UI.ViewModels"
        xmlns:converters="clr-namespace:Exportador.UI.Converters"
        mc:Ignorable="d"
        Title="Exportador de Dados" Height="830" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F5F7FA"
        ResizeMode="NoResize"
        Closing="Window_Closing"
        WindowStyle="None"        
        ShowInTaskbar="False">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Background="#2C3E50" Height="60">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="Exportador de Dados"
                       Foreground="White"
                       FontSize="20"
                       FontWeight="Bold"
                       VerticalAlignment="Center"
                       Margin="20 0 0 0"/>
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0 0 20 0">
                <Border CornerRadius="10" Width="20" Height="20" Margin="0 0 5 0">
                    <Border.Background>
                        <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Background">
                            <Binding Path="CurrentStepIndex" />
                            <Binding Source="1" />
                        </MultiBinding>
                    </Border.Background>
                    <TextBlock Text="1" HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontWeight="Bold" FontSize="12">
                        <TextBlock.Foreground>
                            <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Foreground">
                                <Binding Path="CurrentStepIndex" />
                                <Binding Source="1" />
                            </MultiBinding>
                        </TextBlock.Foreground>
                    </TextBlock>
                </Border>
                <Line X1="0" Y1="10" X2="20" Y2="10" Stroke="White" StrokeThickness="2" Margin="0 0 5 0"/>

                <Border CornerRadius="10" Width="20" Height="20" Margin="0 0 5 0">
                    <Border.Background>
                        <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Background">
                            <Binding Path="CurrentStepIndex" />
                            <Binding Source="2" />
                        </MultiBinding>
                    </Border.Background>
                    <TextBlock Text="2" HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontWeight="Bold" FontSize="12">
                        <TextBlock.Foreground>
                            <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Foreground">
                                <Binding Path="CurrentStepIndex" />
                                <Binding Source="2" />
                            </MultiBinding>
                        </TextBlock.Foreground>
                    </TextBlock>
                </Border>
                <Line X1="0" Y1="10" X2="20" Y2="10" Stroke="White" StrokeThickness="2" Margin="0 0 5 0"/>

                <Border CornerRadius="10" Width="20" Height="20" Margin="0 0 5 0">
                    <Border.Background>
                        <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Background">
                            <Binding Path="CurrentStepIndex" />
                            <Binding Source="3" />
                        </MultiBinding>
                    </Border.Background>
                    <TextBlock Text="3" HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontWeight="Bold" FontSize="12">
                        <TextBlock.Foreground>
                            <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Foreground">
                                <Binding Path="CurrentStepIndex" />
                                <Binding Source="3" />
                            </MultiBinding>
                        </TextBlock.Foreground>
                    </TextBlock>
                </Border>
                <Line X1="0" Y1="10" X2="20" Y2="10" Stroke="White" StrokeThickness="2" Margin="0 0 5 0"/>

                <Border CornerRadius="10" Width="20" Height="20" Margin="0 0 5 0">
                    <Border.Background>
                        <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Background">
                            <Binding Path="CurrentStepIndex" />
                            <Binding Source="4" />
                        </MultiBinding>
                    </Border.Background>
                    <TextBlock Text="4" HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontWeight="Bold" FontSize="12">
                        <TextBlock.Foreground>
                            <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Foreground">
                                <Binding Path="CurrentStepIndex" />
                                <Binding Source="4" />
                            </MultiBinding>
                        </TextBlock.Foreground>
                    </TextBlock>
                </Border>
                <Line X1="0" Y1="10" X2="20" Y2="10" Stroke="White" StrokeThickness="2" Margin="0 0 5 0"/>

                <Border CornerRadius="10" Width="20" Height="20" Margin="0 0 5 0">
                    <Border.Background>
                        <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Background">
                            <Binding Path="CurrentStepIndex" />
                            <Binding Source="5" />
                        </MultiBinding>
                    </Border.Background>
                    <TextBlock Text="5" HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontWeight="Bold" FontSize="12">
                        <TextBlock.Foreground>
                            <MultiBinding Converter="{StaticResource StepIndicatorConverter}" ConverterParameter="Foreground">
                                <Binding Path="CurrentStepIndex" />
                                <Binding Source="5" />
                            </MultiBinding>
                        </TextBlock.Foreground>
                    </TextBlock>
                </Border>
            </StackPanel>
        </Grid>

        <ContentControl Grid.Row="1" Content="{Binding CurrentView}" Margin="20"/>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="20">
            <Button Content="Cancelar"
                    Command="{Binding CancelCommand}"
                    Margin="0 0 10 0"
                    Style="{StaticResource SecondaryButton}"
                    Visibility="{Binding IsCancelButtonVisible}"/>
            <Button Content="Anterior"
                    Command="{Binding NavigatePreviousCommand}"
                    Margin="0 0 10 0"
                    Style="{StaticResource NavigationButtonStyle}"
                    Visibility="{Binding IsPreviousButtonVisible}"/>
            <Button Content="Próximo"
                    Command="{Binding NavigateNextCommand}"
                    Style="{StaticResource NavigationButtonStyle}" 
                    Visibility="{Binding IsNextButtonVisible}" />
            <Button Content="Finalizar"
                    Command="{Binding FinishCommand}"
                    Margin="10 0 10 0"
                    Style="{StaticResource NavigationButtonStyle}"
                    Visibility="{Binding IsFinishButtonVisible}" />
            <Button Content="Nova Exportação"
                    Command="{Binding NovaCommand}"
                    Margin="10 0 10 0"
                    Style="{StaticResource NavigationButtonStyle}"
                    Visibility="{Binding IsNovaButtonVisible}" />
            <Button Content="Fechar"
                    Command="{Binding CloseCommand}"
                    Margin="10 0 10 0"
                    Style="{StaticResource NavigationButtonStyle}"
                    Visibility="{Binding IsCloseButtonVisible}" /> 
        </StackPanel>
    </Grid>
</Window>